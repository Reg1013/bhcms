<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Patient Dashboard</title>
    <link rel="stylesheet" href="patient-dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h2>Health Portal</h2>
                <p id="sidebarRole">Patient</p>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="active">üè† My Dashboard</a></li>
                <li><a href="#">üìÖ Appointments</a></li>
                <li><a href="#">üë®‚Äçüë©‚Äçüëß‚Äçüë¶ My Children</a></li>
                <li><a href="#">üë§ Profile</a></li>
                <li><a href="#">üîî Notifications</a></li>
                <li><a href="#" id="logoutBtn">üö™ Logout</a></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1>My Dashboard</h1>
                <p id="userWelcome">Loading...</p>
            </div>

            <div class="stats-cards">
                <div class="stat-card">
                    <h3>Upcoming Appointments</h3>
                    <div class="number" id="upcomingCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Medical Records</h3>
                    <div class="number" id="recordsCount">0</div>
                </div>
                <div class="stat-card">
                    <h3>Children Registered</h3>
                    <div class="number" id="childrenCount">0</div>
                </div>
            </div>

            <div class="appointments-section">
                <div class="section-header">
                    <h2>Upcoming Appointments</h2>
                    <button class="btn btn-primary" id="bookAppointmentBtn">Book Appointment</button>
                </div>
                <table class="appointment-table">
                    <thead>
                        <tr>
                            <th>For Whom</th>
                            <th>Type</th>
                            <th>Date & Time</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="upcomingTableBody"></tbody>
                </table>
                <div id="noUpcoming" class="no-results" style="display: none;">No upcoming appointments.</div>
            </div>

            <div class="history-section" style="display: none;">
                <h2>Appointment History</h2>
                <table class="appointment-table">
                    <thead>
                        <tr>
                            <th>For Whom</th>
                            <th>Type</th>
                            <th>Date & Time</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody id="historyTableBody"></tbody>
                </table>
                <div id="noHistory" class="no-results" style="display: none;">No history available.</div>
            </div>

            <div class="children-section" style="display: none;">
                <div class="section-header">
                    <h2>My Children</h2>
                    <button class="btn btn-primary" id="addChildBtn">Add Child</button>
                </div>
                <table class="children-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>DOB</th>
                            <th>Gender</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="childrenTableBody"></tbody>
                </table>
            </div>

            <!-- Book Appointment Modal -->
            <div class="modal" id="bookAppointmentModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Book New Appointment</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <form id="appointmentForm">
                        <div class="form-group">
                            <label for="appointmentFor">For Whom</label>
                            <select id="appointmentFor" required>
                                <option value="">Select Person</option>
                                <option value="self">Myself</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="appointmentType">Service Type</label>
                            <select id="appointmentType" required>
                                <option value="">Select Service</option>
                                <option value="consultation">General Consultation</option>
                                <option value="checkup">Regular Check-up</option>
                                <option value="immunization">Immunization</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="appointmentDate">Date</label>
                            <input type="date" id="appointmentDate" required>
                        </div>
                        <div class="form-group">
                            <label for="appointmentTime">Time</label>
                            <input type="time" id="appointmentTime" required>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Book Appointment</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Add Child Modal -->
            <div class="modal" id="addChildModal" style="display: none;">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Add Child</h2>
                        <button class="close-modal">&times;</button>
                    </div>
                    <form id="childForm">
                        <div class="form-group">
                            <label for="childName">Full Name</label>
                            <input type="text" id="childName" required>
                        </div>
                        <div class="form-group">
                            <label for="childDob">Date of Birth</label>
                            <input type="date" id="childDob" required>
                        </div>
                        <div class="form-group">
                            <label for="childGender">Gender</label>
                            <select id="childGender" required>
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                        <div class="modal-actions">
                            <button type="button" class="btn btn-secondary close-modal">Cancel</button>
                            <button type="submit" class="btn btn-primary">Add Child</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="patient-dashboard.js"></script>
</body>
</html>